resource "kubernetes_namespace" "apm" {
  metadata {
    name = "apm"
    labels = {
      istio-injection      = "enabled"
      managed_by_terraform = "true"
    }
  }
}

# Unfortunately Kubernetes provider still doesn't support adding CRD resources,
# so the CRDs are in plain K8S yaml files.
#
# '''
# kubectl --kubeconfig <path to kubeconfig file> apply -n apm -f operators/eck-apm.yaml
# '''
